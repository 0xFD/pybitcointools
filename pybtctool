#!/usr/bin/python
import sys, json, select, os
from pybitcointools import *

# fetch arg from stdin is Unix-only
if os.name == 'posix':
    haveinput = select.select([sys.stdin], [], [], 0) == ([sys.stdin], [], []) 
else:
    haveinput = False

if haveinput:
    preargs = [x.strip() for x in sys.stdin.read().split(' ') if len(x) > 0]
else:
    preargs = []

if len(sys.argv) == 1:
    print "pybtctool <command> <arg1> <arg2> ..."
else:
    o = vars()[sys.argv[1]](*(preargs+sys.argv[2:]))
    if isinstance(o,(list,dict)): print json.dumps(o)
    else: print o
