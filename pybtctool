#!/usr/bin/python
import sys, json
from pybitcointools import *

if len(sys.argv) == 1:
    print "pybtctool <command> <arg1> <arg2> ..."
else:
    if sys.argv[1] == '-s':
        cmd = sys.argv[2]
        args = [x.strip() for x in filter(len,sys.stdin.read().split(' '))]+sys.argv[3:]
    else:
        cmd = sys.argv[1]
        args = sys.argv[2:]
    o = vars()[cmd](*args)
    if isinstance(o,(list,dict)): print json.dumps(o)
    else: print o
